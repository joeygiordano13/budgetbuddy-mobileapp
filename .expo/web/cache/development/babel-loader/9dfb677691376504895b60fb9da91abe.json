{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _objectDestructuringEmpty from \"@babel/runtime/helpers/objectDestructuringEmpty\";\n\nvar _this = this,\n    _jsxFileName = \"/home/joeyg/Desktop/mobile-app/budgetbuddy-mobileapp/src/AuthStack.js\";\n\nimport React, { useState, useContext } from \"react\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport ImageBackground from \"react-native-web/dist/exports/ImageBackground\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Keyboard from \"react-native-web/dist/exports/Keyboard\";\nimport { createStackNavigator } from \"@react-navigation/stack\";\nimport { buildPath } from \"./functions/BuildPath\";\nimport { Center } from \"./components/Center\";\nimport { AuthContext } from \"./AuthProvider\";\nimport { Card } from 'react-native-paper';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nvar Stack = createStackNavigator();\nexport var AuthStack = function AuthStack(_ref) {\n  _objectDestructuringEmpty(_ref);\n\n  return React.createElement(Stack.Navigator, {\n    initialRouteName: \"Login\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 14,\n      columnNumber: 5\n    }\n  }, React.createElement(Stack.Screen, {\n    options: {\n      headerTitle: \"Sign In\"\n    },\n    name: \"Login\",\n    component: Login,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 15,\n      columnNumber: 7\n    }\n  }), React.createElement(Stack.Screen, {\n    options: {\n      headerTitle: \"Sign Up\"\n    },\n    name: \"Register\",\n    component: Register,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 7\n    }\n  }));\n};\n\nfunction Login(_ref2) {\n  var navigation = _ref2.navigation;\n\n  var _useContext = useContext(AuthContext),\n      login = _useContext.login;\n\n  var _React$useState = React.useState(''),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      loginEmail = _React$useState2[0],\n      setEmail = _React$useState2[1];\n\n  var _React$useState3 = React.useState(''),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      loginPassword = _React$useState4[0],\n      setPassword = _React$useState4[1];\n\n  var message = '';\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      showAlert = _useState2[0],\n      setAlert = _useState2[1];\n\n  var doLogin = function doLogin(event) {\n    var obj, js, response, res;\n    return _regeneratorRuntime.async(function doLogin$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            event.preventDefault();\n            obj = {\n              email: loginEmail,\n              password: loginPassword\n            };\n            js = JSON.stringify(obj);\n            _context.prev = 3;\n            _context.next = 6;\n            return _regeneratorRuntime.awrap(fetch(buildPath('api/login'), {\n              method: 'POST',\n              body: js,\n              headers: {\n                'Content-Type': 'application/json'\n              }\n            }));\n\n          case 6:\n            response = _context.sent;\n            _context.t0 = JSON;\n            _context.next = 10;\n            return _regeneratorRuntime.awrap(response.text());\n\n          case 10:\n            _context.t1 = _context.sent;\n            res = _context.t0.parse.call(_context.t0, _context.t1);\n\n            if (res.error != '') {\n              Alert.alert('incorrect login, userID: ' + res.id + '\\n');\n              console.log('incorrect login email: ' + loginEmail + '\\n');\n              message = 'Email/Password combination incorrect';\n              setAlert(true);\n            } else {\n              Alert.alert('success login, userID: ' + res.id + '\\n');\n              login(res.id, res.accessToken);\n            }\n\n            _context.next = 19;\n            break;\n\n          case 15:\n            _context.prev = 15;\n            _context.t2 = _context[\"catch\"](3);\n            Alert.alert(\"failure login email: \" + _context.t2 + \"\\n\");\n            return _context.abrupt(\"return\");\n\n          case 19:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, [[3, 15]], Promise);\n  };\n\n  return React.createElement(ImageBackground, {\n    style: styles.backgroundImage,\n    source: require(\"../assets/bubblebackground.png\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }\n  }, React.createElement(Center, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 9\n    }\n  }, React.createElement(SafeAreaView, {\n    style: styles.loginBox,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 11\n    }\n  }, React.createElement(SafeAreaView, {\n    style: {\n      left: 45\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 13\n    }\n  }, React.createElement(Button, {\n    style: styles.submitButton,\n    title: \"Register\",\n    color: \"#FB2B60\",\n    onPress: function onPress() {\n      navigation.navigate(\"Register\");\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 15\n    }\n  })), React.createElement(TextInput, {\n    style: styles.input,\n    onChangeText: function onChangeText(em) {\n      return setEmail(em);\n    },\n    placeholder: \"Email\",\n    value: loginEmail,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 13\n    }\n  }), React.createElement(TextInput, {\n    style: styles.input,\n    onChangeText: function onChangeText(pw) {\n      return setPassword(pw);\n    },\n    placeholder: \"Password\",\n    value: loginPassword,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 13\n    }\n  }), React.createElement(Button, {\n    style: styles.submitButton,\n    color: \"#FB2B60\",\n    title: \"Login\",\n    onPress: doLogin,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 13\n    }\n  }), React.createElement(Text, {\n    style: styles.medium,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 13\n    }\n  }, \"Forgot Password? Click here.\"))));\n}\n\n;\n\nfunction Register(_ref3) {\n  var navigation = _ref3.navigation;\n\n  var _React$useState5 = React.useState(''),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      username = _React$useState6[0],\n      setUsername = _React$useState6[1];\n\n  var _React$useState7 = React.useState(''),\n      _React$useState8 = _slicedToArray(_React$useState7, 2),\n      password = _React$useState8[0],\n      setPassword = _React$useState8[1];\n\n  var _React$useState9 = React.useState(''),\n      _React$useState10 = _slicedToArray(_React$useState9, 2),\n      email = _React$useState10[0],\n      setEmail = _React$useState10[1];\n\n  return React.createElement(ImageBackground, {\n    style: styles.backgroundImage,\n    source: require(\"../assets/bubblebackground.png\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 5\n    }\n  }, React.createElement(SafeAreaView, {\n    style: styles.container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 7\n    }\n  }, React.createElement(Center, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 9\n    }\n  }, React.createElement(Text, {\n    style: styles.large,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 11\n    }\n  }, \"Register Form\"), React.createElement(TextInput, {\n    style: styles.input,\n    onChangeText: function onChangeText(u) {\n      return setUsername(u);\n    },\n    placeholder: \"Username\",\n    value: username,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 11\n    }\n  }), React.createElement(TextInput, {\n    style: styles.input,\n    onChangeText: function onChangeText(em) {\n      return setEmail(em);\n    },\n    placeholder: \"Email\",\n    value: email,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 11\n    }\n  }), React.createElement(TextInput, {\n    style: styles.input,\n    onChangeText: function onChangeText(pw) {\n      return setPassword(pw);\n    },\n    placeholder: \"Password\",\n    value: password,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 11\n    }\n  }), React.createElement(Button, {\n    style: styles.submitButton,\n    title: \"Register\",\n    onPress: console.log('register'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 11\n    }\n  }))));\n}\n\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    justifyContent: \"space-between\",\n    padding: 20,\n    margin: 10\n  },\n  input: {\n    margin: 1,\n    height: 40,\n    width: 150,\n    backgroundColor: 'white',\n    borderColor: 'white',\n    borderWidth: 1\n  },\n  submitButton: {\n    backgroundColor: '#7a42f4',\n    padding: 10,\n    margin: 25,\n    height: 20\n  },\n  submitButtonText: {\n    color: 'white'\n  },\n  large: {\n    fontSize: 28\n  },\n  medium: {\n    fontSize: 15\n  },\n  backgroundImage: {\n    flex: 1,\n    resizeMode: 'cover'\n  },\n  loginBox: {\n    flex: 0.3,\n    backgroundColor: \"#19c0ff\",\n    width: 250,\n    borderWidth: 2,\n    borderTopLeftRadius: 20,\n    borderTopRightRadius: 20,\n    borderBottomLeftRadius: 20,\n    borderBottomRightRadius: 20,\n    margin: 10,\n    justifyContent: 'center',\n    alignItems: 'center',\n    paddingTop: 20\n  }\n});","map":{"version":3,"sources":["/home/joeyg/Desktop/mobile-app/budgetbuddy-mobileapp/src/AuthStack.js"],"names":["React","useState","useContext","createStackNavigator","buildPath","Center","AuthContext","Card","AsyncStorage","Stack","AuthStack","headerTitle","Login","Register","navigation","login","loginEmail","setEmail","loginPassword","setPassword","message","showAlert","setAlert","doLogin","event","preventDefault","obj","email","password","js","JSON","stringify","fetch","method","body","headers","response","text","res","parse","error","Alert","alert","id","console","log","accessToken","styles","backgroundImage","require","loginBox","left","submitButton","navigate","input","em","pw","medium","username","setUsername","container","large","u","StyleSheet","create","flex","justifyContent","padding","margin","height","width","backgroundColor","borderColor","borderWidth","submitButtonText","color","fontSize","resizeMode","borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius","alignItems","paddingTop"],"mappings":"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","sourcesContent":["import React, { useState, useContext } from \"react\";\nimport { TextInput, Button, Alert, Text, SafeAreaView, ImageBackground, StyleSheet, Keyboard } from 'react-native';\nimport { createStackNavigator } from \"@react-navigation/stack\";\nimport { buildPath } from './functions/BuildPath';\nimport { Center } from './components/Center';\nimport { AuthContext } from './AuthProvider';\nimport { Card } from 'react-native-paper';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\n\nconst Stack = createStackNavigator();\n\nexport const AuthStack = ({}) => {\n  return (\n    <Stack.Navigator initialRouteName=\"Login\">\n      <Stack.Screen\n        options={{\n          headerTitle: \"Sign In\"\n        }}\n        name=\"Login\"\n        component={Login}\n      />\n      <Stack.Screen\n        options={{\n          headerTitle: \"Sign Up\"\n        }}\n        name=\"Register\"\n        component={Register}\n      />\n    </Stack.Navigator>\n  );\n};\n\nfunction Login({navigation}) {\n  const {login} = useContext(AuthContext);\n\n  const [loginEmail, setEmail] = React.useState('');\n  const [loginPassword, setPassword] = React.useState('');\n\n  var message = '';\n\n  const [ showAlert, setAlert ] = useState(false);\n\n  const doLogin = async event => {\n      event.preventDefault();\n\n      var obj = {email:loginEmail, password:loginPassword};\n      var js = JSON.stringify(obj);\n      try\n      {\n          // API call\n          const response = await fetch(buildPath('api/login'),\n              {method:'POST',body:js,headers:{'Content-Type': 'application/json'}});\n\n          // Parse JSON response\n          var res = JSON.parse(await response.text());\n\n          if( res.error != '')\n          {\n            //Alert.alert(\"incorrect login email: \" + loginEmail + '\\n');\n            Alert.alert('incorrect login, userID: ' + res.id + '\\n');\n            console.log('incorrect login email: ' + loginEmail + '\\n');\n            message = 'Email/Password combination incorrect';\n            setAlert(true);\n          }\n          else\n          {\n            //console.log(\"success login email: \" + loginEmail + '\\n');\n            Alert.alert('success login, userID: ' + res.id + '\\n');\n            login(res.id, res.accessToken);\n          }\n      }\n      catch(e)\n      {\n          Alert.alert(\"failure login email: \" + e + \"\\n\");\n          return;\n      }\n  }\n\n  return (\n      <ImageBackground \n      style={styles.backgroundImage} \n      source={require('../assets/bubblebackground.png')}>\n        <Center>\n          <SafeAreaView style={styles.loginBox}>\n            <SafeAreaView style={{left: 45}}>\n              <Button style={styles.submitButton}\n                title=\"Register\"\n                color=\"#FB2B60\"\n                onPress={() => {\n                  navigation.navigate(\"Register\");\n                }}/>\n            </SafeAreaView>\n            <TextInput style={styles.input}\n              onChangeText={em => setEmail(em)}\n              placeholder=\"Email\"\n              value={loginEmail}>\n            </TextInput>\n            <TextInput style={styles.input}\n              onChangeText={pw => setPassword(pw)}\n              placeholder=\"Password\"\n              value={loginPassword}/>\n            <Button style={styles.submitButton}\n            color=\"#FB2B60\"\n            title=\"Login\"\n            onPress={doLogin}/>\n            <Text style={styles.medium}>Forgot Password? Click here.</Text>\n          </SafeAreaView>\n        </Center>\n      </ImageBackground>\n  );\n};\n\nfunction Register({ navigation }) {\n  // Register usestates\n  const [username, setUsername] = React.useState('');\n  const [password, setPassword] = React.useState('');\n  const [email, setEmail] = React.useState('');\n\n  return (\n    <ImageBackground \n    style={styles.backgroundImage} \n    source={require('../assets/bubblebackground.png')}>\n      <SafeAreaView style={styles.container}>\n        <Center>\n          <Text style={styles.large}>Register Form</Text>\n          <TextInput style={styles.input}\n            onChangeText={u => setUsername(u)}\n            placeholder=\"Username\"\n            value={username}></TextInput>\n          <TextInput style={styles.input}\n            onChangeText={em => setEmail(em)}\n            placeholder=\"Email\"\n            value={email}></TextInput>\n          <TextInput style={styles.input}\n            onChangeText={pw => setPassword(pw)}\n            placeholder=\"Password\"\n            value={password}></TextInput>\n          <Button style={styles.submitButton}\n            title=\"Register\"\n            onPress={console.log('register')}/>\n        </Center>\n      </SafeAreaView>\n    </ImageBackground>  \n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    justifyContent: \"space-between\",\n    padding: 20,\n    margin: 10,\n  },\n  input: {\n    margin: 1,\n    height: 40,\n    width: 150,\n    backgroundColor: 'white',\n    borderColor: 'white',\n    borderWidth: 1,\n  },\n  submitButton: {\n    backgroundColor: '#7a42f4',\n    padding: 10,\n    margin: 25,\n    height: 20,\n  },\n  submitButtonText: {\n    color: 'white'\n  },\n  large: {\n    fontSize: 28\n  },\n  medium: {\n    fontSize: 15\n  },\n  backgroundImage: {\n    flex: 1,\n    resizeMode: 'cover',\n  }, \n  loginBox: {\n    flex: 0.3,\n    backgroundColor: \"#19c0ff\",\n    width: 250,\n    borderWidth: 2,\n    borderTopLeftRadius: 20,\n    borderTopRightRadius: 20,\n    borderBottomLeftRadius: 20,\n    borderBottomRightRadius: 20,\n    margin: 10,\n    justifyContent: 'center',\n    alignItems: 'center',\n    paddingTop: 20\n},\n});"]},"metadata":{},"sourceType":"module"}