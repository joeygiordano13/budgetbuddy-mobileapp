{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _objectDestructuringEmpty from \"@babel/runtime/helpers/objectDestructuringEmpty\";\n\nvar _this = this,\n    _jsxFileName = \"/mnt/c/Users/walte/Documents/budgetbuddy-mobileapp/src/AuthStack.js\";\n\nimport React, { useState, useContext } from \"react\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport ImageBackground from \"react-native-web/dist/exports/ImageBackground\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Keyboard from \"react-native-web/dist/exports/Keyboard\";\nimport TouchableWithoutFeedback from \"react-native-web/dist/exports/TouchableWithoutFeedback\";\nimport View from \"react-native-web/dist/exports/View\";\nimport { createStackNavigator } from \"@react-navigation/stack\";\nimport { buildPath } from \"./functions/BuildPath\";\nimport { Center } from \"./components/Center\";\nimport { AuthContext } from \"./AuthProvider\";\nimport { Card } from 'react-native-paper';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nvar Stack = createStackNavigator();\nexport var AuthStack = function AuthStack(_ref) {\n  _objectDestructuringEmpty(_ref);\n\n  return React.createElement(Stack.Navigator, {\n    initialRouteName: \"Login\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 14,\n      columnNumber: 5\n    }\n  }, React.createElement(Stack.Screen, {\n    options: {\n      headerTitle: \"Sign In\"\n    },\n    name: \"Login\",\n    component: Login,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 15,\n      columnNumber: 7\n    }\n  }), React.createElement(Stack.Screen, {\n    options: {\n      headerTitle: \"Sign Up\"\n    },\n    name: \"Register\",\n    component: Register,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 7\n    }\n  }));\n};\n\nfunction Login(_ref2) {\n  var navigation = _ref2.navigation;\n\n  var _useContext = useContext(AuthContext),\n      login = _useContext.login;\n\n  var _React$useState = React.useState(''),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      loginEmail = _React$useState2[0],\n      setEmail = _React$useState2[1];\n\n  var _React$useState3 = React.useState(''),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      loginPassword = _React$useState4[0],\n      setPassword = _React$useState4[1];\n\n  var message = '';\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      showAlert = _useState2[0],\n      setAlert = _useState2[1];\n\n  var doLogin = function doLogin(event) {\n    var obj, js, response, res;\n    return _regeneratorRuntime.async(function doLogin$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            event.preventDefault();\n            obj = {\n              email: loginEmail,\n              password: loginPassword\n            };\n            js = JSON.stringify(obj);\n            _context.prev = 3;\n            _context.next = 6;\n            return _regeneratorRuntime.awrap(fetch(buildPath('api/login'), {\n              method: 'POST',\n              body: js,\n              headers: {\n                'Content-Type': 'application/json'\n              }\n            }));\n\n          case 6:\n            response = _context.sent;\n            _context.t0 = JSON;\n            _context.next = 10;\n            return _regeneratorRuntime.awrap(response.text());\n\n          case 10:\n            _context.t1 = _context.sent;\n            res = _context.t0.parse.call(_context.t0, _context.t1);\n\n            if (res.error != '') {\n              Alert.alert('incorrect login, userID: ' + res.id + '\\n');\n              console.log('incorrect login email: ' + loginEmail + '\\n');\n              message = 'Email/Password combination incorrect';\n              setAlert(true);\n            } else {\n              Alert.alert('success login, token: ' + res.accessToken + '\\n');\n              AsyncStorage.setItem('userID', res.id);\n              AsyncStorage.setItem('token', res.accessToken);\n              login();\n            }\n\n            _context.next = 19;\n            break;\n\n          case 15:\n            _context.prev = 15;\n            _context.t2 = _context[\"catch\"](3);\n            Alert.alert(\"failure login email: \" + _context.t2 + \"\\n\");\n            return _context.abrupt(\"return\");\n\n          case 19:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, [[3, 15]], Promise);\n  };\n\n  return React.createElement(SafeAreaView, {\n    style: styles.backgroundImage,\n    source: require(\"../assets/bubblebackground.png\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }\n  }, React.createElement(Center, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 9\n    }\n  }, React.createElement(SafeAreaView, {\n    style: styles.loginBox,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 11\n    }\n  }, React.createElement(TouchableWithoutFeedback, {\n    onPress: function onPress() {\n      navigation.navigate(\"Register\");\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 13\n    }\n  }, React.createElement(View, {\n    style: styles.submitButtonn,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 15\n    }\n  }, React.createElement(Text, {\n    style: styles.mediumLeft,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 17\n    }\n  }, \"Register\"))), React.createElement(TouchableWithoutFeedback, {\n    onPress: function onPress() {\n      navigation.navigate(\"Login\");\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 13\n    }\n  }, React.createElement(View, {\n    style: styles.submitButton,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 15\n    }\n  }, React.createElement(Text, {\n    style: styles.medium,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 49\n    }\n  }, \"Login\"))), React.createElement(Text, {\n    style: styles.mediumStartLogin,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 13\n    }\n  }, \"Email\"), React.createElement(TextInput, {\n    style: styles.input,\n    onChangeText: function onChangeText(em) {\n      return setEmail(em);\n    },\n    value: loginEmail,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 13\n    }\n  }), React.createElement(Text, {\n    style: styles.mediumStartLogin,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 13\n    }\n  }, \"Password\"), React.createElement(TextInput, {\n    style: styles.input,\n    secureTextEntry: true,\n    onChangeText: function onChangeText(pw) {\n      return setPassword(pw);\n    },\n    value: loginPassword,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 13\n    }\n  }), React.createElement(TouchableWithoutFeedback, {\n    onPress: doLogin,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 13\n    }\n  }, React.createElement(View, {\n    style: styles.loginButton,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 15\n    }\n  }, React.createElement(Text, {\n    style: styles.medium,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 48\n    }\n  }, \"Login\"))), React.createElement(Text, {\n    style: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 13\n    }\n  }, \"Forgot Password? Click here.\"))));\n}\n\n;\n\nfunction Register(_ref3) {\n  var navigation = _ref3.navigation;\n\n  var _React$useState5 = React.useState(''),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      registerUsername = _React$useState6[0],\n      setUsername = _React$useState6[1];\n\n  var _React$useState7 = React.useState(''),\n      _React$useState8 = _slicedToArray(_React$useState7, 2),\n      registerEmail = _React$useState8[0],\n      setEmail = _React$useState8[1];\n\n  var _React$useState9 = React.useState(''),\n      _React$useState10 = _slicedToArray(_React$useState9, 2),\n      password = _React$useState10[0],\n      setPassword = _React$useState10[1];\n\n  var _React$useState11 = React.useState(''),\n      _React$useState12 = _slicedToArray(_React$useState11, 2),\n      passwordConfirm = _React$useState12[0],\n      setPasswordConfirm = _React$useState12[1];\n\n  var budgetAndFriends = [];\n\n  var _useState3 = useState(''),\n      _useState4 = _slicedToArray(_useState3, 2),\n      message = _useState4[0],\n      setMessage = _useState4[1];\n\n  var doRegistration = function doRegistration(event) {\n    var obj, js, response, res;\n    return _regeneratorRuntime.async(function doRegistration$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            event.preventDefault();\n\n            if (!(registerEmail.length === 0 || registerUsername.length === 0 || password.length === 0 || passwordConfirm.length === 0)) {\n              _context2.next = 5;\n              break;\n            }\n\n            setMessage(\"Please fill in all fields\");\n            Alert.alert(message);\n            return _context2.abrupt(\"return\");\n\n          case 5:\n            if (!(password != passwordConfirm)) {\n              _context2.next = 9;\n              break;\n            }\n\n            setMessage(\"Passwords do not match\");\n            Alert.alert(message);\n            return _context2.abrupt(\"return\");\n\n          case 9:\n            obj = {\n              email: registerEmail,\n              username: registerUsername,\n              verification: false,\n              friends: budgetAndFriends,\n              password: password,\n              rankMetric: -1\n            };\n            js = JSON.stringify(obj);\n            _context2.prev = 11;\n            _context2.next = 14;\n            return _regeneratorRuntime.awrap(fetch(buildPath('api/register'), {\n              method: 'POST',\n              body: js,\n              headers: {\n                'Content-Type': 'application/json'\n              }\n            }));\n\n          case 14:\n            response = _context2.sent;\n            _context2.t0 = JSON;\n            _context2.next = 18;\n            return _regeneratorRuntime.awrap(response.text());\n\n          case 18:\n            _context2.t1 = _context2.sent;\n            res = _context2.t0.parse.call(_context2.t0, _context2.t1);\n\n            if (res.error != '') {\n              setMessage(res.error);\n              console.log('error');\n              Alert.alert(message);\n            } else {\n              setMessage(\"An email has been sent to \" + registerEmail + \". Please verify your email\");\n              console.log(message);\n              Alert.alert(message);\n            }\n\n            _context2.next = 28;\n            break;\n\n          case 23:\n            _context2.prev = 23;\n            _context2.t2 = _context2[\"catch\"](11);\n            console.log('bad api call');\n            Alert.alert(_context2.t2);\n            return _context2.abrupt(\"return\");\n\n          case 28:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, [[11, 23]], Promise);\n  };\n\n  return React.createElement(SafeAreaView, {\n    style: styles.backgroundImage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 5\n    }\n  }, React.createElement(Center, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 7\n    }\n  }, React.createElement(SafeAreaView, {\n    style: styles.loginBox,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 7\n    }\n  }, React.createElement(TouchableWithoutFeedback, {\n    onPress: function onPress() {\n      navigation.navigate(\"Login\");\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 11\n    }\n  }, React.createElement(View, {\n    style: styles.registerButtonn,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 13\n    }\n  }, React.createElement(Text, {\n    style: styles.medium,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 50\n    }\n  }, \"Login\"))), React.createElement(TouchableWithoutFeedback, {\n    onPress: function onPress() {\n      navigation.navigate(\"Register\");\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 11\n    }\n  }, React.createElement(View, {\n    style: styles.registerButton,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 13\n    }\n  }, React.createElement(Text, {\n    style: styles.medium,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 15\n    }\n  }, \"Register\")))), React.createElement(SafeAreaView, {\n    style: styles.loginBox2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 9\n    }\n  }, React.createElement(Text, {\n    style: styles.mediumStart,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 13\n    }\n  }, \"Username\"), React.createElement(TextInput, {\n    style: styles.input2,\n    onChangeText: function onChangeText(u) {\n      return setUsername(u);\n    },\n    value: registerUsername,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 13\n    }\n  }), React.createElement(Text, {\n    style: styles.mediumStart,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 13\n    }\n  }, \"Email\"), React.createElement(TextInput, {\n    style: styles.input2,\n    onChangeText: function onChangeText(em) {\n      return setEmail(em);\n    },\n    secureTextEntry: true,\n    value: registerEmail,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 13\n    }\n  }), React.createElement(Text, {\n    style: styles.mediumStart,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 13\n    }\n  }, \"Password\"), React.createElement(TextInput, {\n    style: styles.input2,\n    onChangeText: function onChangeText(pw) {\n      return setPassword(pw);\n    },\n    secureTextEntry: true,\n    value: password,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 13\n    }\n  }), React.createElement(Text, {\n    style: styles.mediumStart,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 13\n    }\n  }, \"Confirm Password\"), React.createElement(TextInput, {\n    style: styles.input2,\n    onChangeText: function onChangeText(pw) {\n      return setPasswordConfirm(pw);\n    },\n    value: passwordConfirm,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 13\n    }\n  }), React.createElement(TouchableWithoutFeedback, {\n    onPress: doRegistration,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 13\n    }\n  }, React.createElement(View, {\n    style: styles.doRegisterButton,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 221,\n      columnNumber: 15\n    }\n  }, React.createElement(Text, {\n    style: styles.medium,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 221,\n      columnNumber: 53\n    }\n  }, \"Register\"))), React.createElement(Text, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 13\n    }\n  }, message))));\n}\n\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    justifyContent: \"space-between\",\n    padding: 20,\n    margin: 10\n  },\n  input: {\n    flex: 3,\n    margin: 20,\n    height: 20,\n    width: 300,\n    right: 40,\n    backgroundColor: '#55D0F1',\n    borderTopLeftRadius: 50,\n    borderTopRightRadius: 50,\n    borderBottomLeftRadius: 50,\n    borderBottomRightRadius: 50,\n    bottom: 130\n  },\n  input2: {\n    flex: 0.5,\n    margin: 15,\n    height: 20,\n    width: 300,\n    right: 40,\n    backgroundColor: '#55D0F1',\n    borderTopLeftRadius: 50,\n    borderTopRightRadius: 50,\n    borderBottomLeftRadius: 50,\n    borderBottomRightRadius: 50\n  },\n  loginButton: {\n    flex: 5,\n    backgroundColor: \"#fcb401\",\n    width: 150,\n    height: 50,\n    borderTopLeftRadius: 50,\n    borderTopRightRadius: 50,\n    borderBottomLeftRadius: 50,\n    borderBottomRightRadius: 50,\n    alignItems: 'flex-start',\n    justifyContent: 'center',\n    fontSize: 50,\n    paddingStart: 50,\n    bottom: 112,\n    left: 40\n  },\n  doRegisterButton: {\n    flex: 1,\n    backgroundColor: \"#fcb401\",\n    width: 150,\n    height: 50,\n    borderTopLeftRadius: 50,\n    borderTopRightRadius: 50,\n    borderBottomLeftRadius: 50,\n    borderBottomRightRadius: 50,\n    alignItems: 'flex-start',\n    justifyContent: 'center',\n    fontSize: 50,\n    paddingStart: 39,\n    left: 40,\n    top: 10\n  },\n  submitButton: {\n    flex: 5,\n    backgroundColor: \"#fb2b60\",\n    width: 150,\n    height: 50,\n    borderTopLeftRadius: 50,\n    borderTopRightRadius: 50,\n    borderBottomLeftRadius: 50,\n    borderBottomRightRadius: 50,\n    alignItems: 'flex-start',\n    justifyContent: 'center',\n    fontSize: 50,\n    right: 90,\n    paddingStart: 50,\n    bottom: 149,\n    right: 30\n  },\n  submitButtonn: {\n    flex: 5,\n    backgroundColor: \"#55D0F1\",\n    width: 325,\n    right: 30,\n    bottom: 74,\n    borderTopLeftRadius: 50,\n    borderTopRightRadius: 50,\n    borderBottomLeftRadius: 50,\n    borderBottomRightRadius: 50,\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  registerButton: {\n    flex: 1,\n    backgroundColor: \"#fb2b60\",\n    width: 150,\n    bottom: 93.5,\n    left: 135,\n    borderTopLeftRadius: 50,\n    borderTopRightRadius: 50,\n    borderBottomLeftRadius: 50,\n    borderBottomRightRadius: 50,\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  registerButtonn: {\n    flex: 1,\n    backgroundColor: \"#55D0F1\",\n    width: 305,\n    borderTopLeftRadius: 50,\n    borderTopRightRadius: 50,\n    borderBottomLeftRadius: 50,\n    borderBottomRightRadius: 50,\n    alignItems: 'flex-start',\n    justifyContent: 'center',\n    fontSize: 50,\n    right: 20,\n    paddingStart: 50,\n    marginTop: 30,\n    bottom: 9\n  },\n  submitButtonText: {\n    color: 'white'\n  },\n  large: {\n    fontSize: 28\n  },\n  medium: {\n    fontSize: 24,\n    justifyContent: 'center',\n    alignItems: 'center'\n  },\n  mediumLeft: {\n    fontSize: 24,\n    justifyContent: 'flex-end',\n    alignItems: 'center',\n    left: 60\n  },\n  mediumStart: {\n    fontSize: 24,\n    justifyContent: 'flex-start',\n    alignItems: 'center'\n  },\n  mediumStartLogin: {\n    fontSize: 24,\n    justifyContent: 'flex-start',\n    alignItems: 'center',\n    bottom: 120\n  },\n  backgroundImage: {\n    flex: 1,\n    resizeMode: 'cover',\n    backgroundColor: '#19C0FF'\n  },\n  loginBox: {\n    flex: .7,\n    backgroundColor: \"#19c0ff\",\n    width: 250,\n    borderTopLeftRadius: 20,\n    borderTopRightRadius: 20,\n    borderBottomLeftRadius: 20,\n    borderBottomRightRadius: 20,\n    margin: 10,\n    paddingTop: 20\n  },\n  loginBox2: {\n    flex: 1.6,\n    backgroundColor: \"#19c0ff\",\n    width: 250,\n    borderTopLeftRadius: 20,\n    borderTopRightRadius: 20,\n    borderBottomLeftRadius: 20,\n    borderBottomRightRadius: 20,\n    bottom: 75\n  }\n});","map":{"version":3,"sources":["/mnt/c/Users/walte/Documents/budgetbuddy-mobileapp/src/AuthStack.js"],"names":["React","useState","useContext","createStackNavigator","buildPath","Center","AuthContext","Card","AsyncStorage","Stack","AuthStack","headerTitle","Login","Register","navigation","login","loginEmail","setEmail","loginPassword","setPassword","message","showAlert","setAlert","doLogin","event","preventDefault","obj","email","password","js","JSON","stringify","fetch","method","body","headers","response","text","res","parse","error","Alert","alert","id","console","log","accessToken","setItem","styles","backgroundImage","require","loginBox","navigate","submitButtonn","mediumLeft","submitButton","medium","mediumStartLogin","input","em","pw","loginButton","registerUsername","setUsername","registerEmail","passwordConfirm","setPasswordConfirm","budgetAndFriends","setMessage","doRegistration","length","username","verification","friends","rankMetric","registerButtonn","registerButton","loginBox2","mediumStart","input2","u","doRegisterButton","StyleSheet","create","container","flex","justifyContent","padding","margin","height","width","right","backgroundColor","borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius","bottom","alignItems","fontSize","paddingStart","left","top","marginTop","submitButtonText","color","large","resizeMode","paddingTop"],"mappings":"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","sourcesContent":["import React, { useState, useContext } from \"react\";\nimport { TextInput, Button, Alert, Text, SafeAreaView, ImageBackground, StyleSheet, Keyboard, TouchableWithoutFeedback, View } from 'react-native';\nimport { createStackNavigator } from \"@react-navigation/stack\";\nimport { buildPath } from './functions/BuildPath';\nimport { Center } from './components/Center';\nimport { AuthContext } from './AuthProvider';\nimport { Card } from 'react-native-paper';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\n\nconst Stack = createStackNavigator();\n\nexport const AuthStack = ({}) => {\n  return (\n    <Stack.Navigator initialRouteName=\"Login\">\n      <Stack.Screen\n        options={{\n          headerTitle: \"Sign In\"\n        }}\n        name=\"Login\"\n        component={Login}\n      />\n      <Stack.Screen\n        options={{\n          headerTitle: \"Sign Up\"\n        }}\n        name=\"Register\"\n        component={Register}\n      />\n    </Stack.Navigator>\n  );\n};\n\nfunction Login({navigation}) {\n  const {login} = useContext(AuthContext);\n\n  const [loginEmail, setEmail] = React.useState('');\n  const [loginPassword, setPassword] = React.useState('');\n\n  var message = '';\n\n  const [ showAlert, setAlert ] = useState(false);\n\n  const doLogin = async event => {\n      event.preventDefault();\n\n      var obj = {email:loginEmail, password:loginPassword};\n      var js = JSON.stringify(obj);\n      try\n      {\n          // API call\n          const response = await fetch(buildPath('api/login'),\n              {method:'POST',body:js,headers:{'Content-Type': 'application/json'}});\n\n          // Parse JSON response\n          var res = JSON.parse(await response.text());\n\n          if( res.error != '')\n          {\n            //Alert.alert(\"incorrect login email: \" + loginEmail + '\\n');\n            Alert.alert('incorrect login, userID: ' + res.id + '\\n');\n            console.log('incorrect login email: ' + loginEmail + '\\n');\n            message = 'Email/Password combination incorrect';\n            setAlert(true);\n          }\n          else\n          {\n            //console.log(\"success login email: \" + loginEmail + '\\n');\n            Alert.alert('success login, token: ' + res.accessToken + '\\n');\n            AsyncStorage.setItem('userID', res.id);\n            AsyncStorage.setItem('token', res.accessToken);\n            login();\n          }\n      }\n      catch(e)\n      {\n          Alert.alert(\"failure login email: \" + e + \"\\n\");\n          return;\n      }\n  }\n\n  return (\n      <SafeAreaView\n      style={styles.backgroundImage} \n      source={require('../assets/bubblebackground.png')}>\n        <Center>\n          <SafeAreaView style={styles.loginBox}>\n            <TouchableWithoutFeedback onPress={() => {\n                    navigation.navigate(\"Register\");\n                  }}>\n              <View style={styles.submitButtonn}>\n                <Text style={styles.mediumLeft}>\n                  Register\n                </Text>\n              </View>\n            </TouchableWithoutFeedback>\n            <TouchableWithoutFeedback onPress={() => {\n                    navigation.navigate(\"Login\");\n                  }}>\n              <View style={styles.submitButton}><Text style={styles.medium}>Login</Text></View>\n            </TouchableWithoutFeedback>\n            <Text style={styles.mediumStartLogin}>\n                Email\n            </Text>\n            <TextInput style={styles.input}\n              onChangeText={em => setEmail(em)}\n              value={loginEmail}>\n            </TextInput>\n            <Text style={styles.mediumStartLogin}>\n                Password\n            </Text>\n            <TextInput style={styles.input} secureTextEntry={true}\n              onChangeText={pw => setPassword(pw)}\n              value={loginPassword}/>\n            <TouchableWithoutFeedback onPress={doLogin}>\n              <View style={styles.loginButton}><Text style={styles.medium}>Login</Text></View>\n            </TouchableWithoutFeedback>\n            <Text style={\"\"}>Forgot Password? Click here.</Text>\n          </SafeAreaView>\n        </Center>\n      </SafeAreaView>\n  );\n};\n\nfunction Register({navigation}) {\n  // Register usestates\n  const [registerUsername, setUsername] = React.useState('');\n  const [registerEmail, setEmail] = React.useState('');\n  const [password, setPassword] = React.useState('');\n  const [passwordConfirm, setPasswordConfirm] = React.useState('');\n\n  var budgetAndFriends = [];\n  \n  const [ message, setMessage ] = useState('');\n  \n  const doRegistration = async event => {\n    event.preventDefault();\n    if (registerEmail.length === 0 || registerUsername.length === 0\n        || password.length === 0 || passwordConfirm.length === 0) {\n          setMessage(\"Please fill in all fields\");\n          Alert.alert(message);\n          return;\n        }\n    if (password != passwordConfirm) {\n      setMessage(\"Passwords do not match\");\n      Alert.alert(message);\n      return;\n    }\n\n    var obj = {email: registerEmail, username: registerUsername, verification: false,\n              friends: budgetAndFriends, password: password, rankMetric: -1};\n    var js = JSON.stringify(obj);\n\n    try {\n      const response = await fetch(buildPath('api/register'),\n            {method:'POST', body:js, headers:{'Content-Type': 'application/json'}});\n\n      var res = JSON.parse(await response.text());\n\n      if (res.error != '') {\n        setMessage(res.error);\n        console.log('error');\n        Alert.alert(message);\n      } else {\n        setMessage(\"An email has been sent to \" + registerEmail + \". Please verify your email\");\n        console.log(message);\n        Alert.alert(message);\n      }\n    } catch (e) {\n      console.log('bad api call');\n      Alert.alert(e);\n      return;\n    }\n  }\n\n  return (\n    <SafeAreaView\n    style={styles.backgroundImage} >\n      <Center>\n      <SafeAreaView style={styles.loginBox}>\n          <TouchableWithoutFeedback onPress={() => {\n                  navigation.navigate(\"Login\");\n                }}>\n            <View style={styles.registerButtonn}><Text style={styles.medium}>Login</Text></View>\n          </TouchableWithoutFeedback>\n          <TouchableWithoutFeedback onPress={() => {\n                  navigation.navigate(\"Register\");\n                }}>\n            <View style={styles.registerButton}>\n              <Text style={styles.medium}>\n                Register\n              </Text>\n            </View>\n          </TouchableWithoutFeedback>\n          </SafeAreaView>\n        <SafeAreaView style={styles.loginBox2}>\n            <Text style={styles.mediumStart}>\n                Username\n            </Text>\n            <TextInput style={styles.input2}\n              onChangeText={u => setUsername(u)}\n              value={registerUsername}></TextInput>\n            <Text style={styles.mediumStart}>\n                Email\n            </Text>\n            <TextInput style={styles.input2}\n              onChangeText={em => setEmail(em)} secureTextEntry={true}\n              value={registerEmail}></TextInput>\n            <Text style={styles.mediumStart}>\n                Password\n            </Text>\n            <TextInput style={styles.input2}\n              onChangeText={pw => setPassword(pw)} secureTextEntry={true}\n              value={password}></TextInput>\n            <Text style={styles.mediumStart}>\n                Confirm Password\n            </Text>\n            <TextInput style={styles.input2}\n              onChangeText={pw => setPasswordConfirm(pw)}\n              value={passwordConfirm}></TextInput>\n            <TouchableWithoutFeedback onPress={doRegistration}>\n              <View style={styles.doRegisterButton}><Text style={styles.medium}>Register</Text></View>\n            </TouchableWithoutFeedback>\n            <Text>{message}</Text>\n        </SafeAreaView>\n      </Center>\n    </SafeAreaView>  \n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    justifyContent: \"space-between\",\n    padding: 20,\n    margin: 10,\n  },\n  input: {\n    flex: 3,\n    margin: 20,\n    height: 20,\n    width: 300,\n    right: 40,\n    backgroundColor: '#55D0F1',\n    borderTopLeftRadius: 50,\n    borderTopRightRadius: 50,\n    borderBottomLeftRadius: 50,\n    borderBottomRightRadius: 50,\n    bottom: 130\n  },\n  input2: {\n    flex: 0.5,\n    margin: 15,\n    height: 20,\n    width: 300,\n    right: 40,\n    backgroundColor: '#55D0F1',\n    borderTopLeftRadius: 50,\n    borderTopRightRadius: 50,\n    borderBottomLeftRadius: 50,\n    borderBottomRightRadius: 50,\n  },\n  loginButton: {\n    flex: 5,\n    backgroundColor: \"#fcb401\",\n    width: 150,\n    height: 50,\n    borderTopLeftRadius: 50,\n    borderTopRightRadius: 50,\n    borderBottomLeftRadius: 50,\n    borderBottomRightRadius: 50,\n    alignItems: 'flex-start',\n    justifyContent: 'center',\n    fontSize: 50,\n    paddingStart: 50,\n    bottom: 112,\n    left: 40,\n  },\n  doRegisterButton: {\n    flex: 1,\n    backgroundColor: \"#fcb401\",\n    width: 150,\n    height: 50,\n    borderTopLeftRadius: 50,\n    borderTopRightRadius: 50,\n    borderBottomLeftRadius: 50,\n    borderBottomRightRadius: 50,\n    alignItems: 'flex-start',\n    justifyContent: 'center',\n    fontSize: 50,\n    paddingStart: 39,\n    left: 40,\n    top: 10\n  },\n  submitButton: {\n    flex: 5,\n    backgroundColor: \"#fb2b60\",\n    width: 150,\n    height: 50,\n    borderTopLeftRadius: 50,\n    borderTopRightRadius: 50,\n    borderBottomLeftRadius: 50,\n    borderBottomRightRadius: 50,\n    alignItems: 'flex-start',\n    justifyContent: 'center',\n    fontSize: 50,\n    right: 90,\n    paddingStart: 50,\n    bottom: 149,\n    right: 30\n  },\n  submitButtonn: {\n    flex: 5,\n    backgroundColor: \"#55D0F1\",\n    width: 325,\n    right: 30,\n    bottom: 74,\n    borderTopLeftRadius: 50,\n    borderTopRightRadius: 50,\n    borderBottomLeftRadius: 50,\n    borderBottomRightRadius: 50,\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  registerButton: {\n    flex: 1,\n    backgroundColor: \"#fb2b60\",\n    width: 150,\n    bottom: 93.5,\n    left: 135,\n    borderTopLeftRadius: 50,\n    borderTopRightRadius: 50,\n    borderBottomLeftRadius: 50,\n    borderBottomRightRadius: 50,\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  registerButtonn: {\n    flex: 1,\n    backgroundColor: \"#55D0F1\",\n    width: 305,\n    borderTopLeftRadius: 50,\n    borderTopRightRadius: 50,\n    borderBottomLeftRadius: 50,\n    borderBottomRightRadius: 50,\n    alignItems: 'flex-start',\n    justifyContent: 'center',\n    fontSize: 50,\n    right: 20,\n    paddingStart: 50, \n    marginTop: 30,\n    bottom: 9\n  },\n  submitButtonText: {\n    color: 'white'\n  },\n  large: {\n    fontSize: 28\n  },\n  medium: {\n    fontSize: 24,\n    justifyContent: 'center',\n    alignItems: 'center'\n},\nmediumLeft: {\n  fontSize: 24,\n  justifyContent: 'flex-end',\n  alignItems: 'center',\n  left: 60\n},\nmediumStart: {\n  fontSize: 24,\n  justifyContent: 'flex-start',\n  alignItems: 'center'\n},\nmediumStartLogin: {\n  fontSize: 24,\n  justifyContent: 'flex-start',\n  alignItems: 'center',\n  bottom: 120\n},\n  backgroundImage: {\n    flex: 1,\n    resizeMode: 'cover',\n    backgroundColor: '#19C0FF'\n  }, \n  loginBox: {\n    flex: .7,\n    backgroundColor: \"#19c0ff\",\n    width: 250,\n    borderTopLeftRadius: 20,\n    borderTopRightRadius: 20,\n    borderBottomLeftRadius: 20,\n    borderBottomRightRadius: 20,\n    margin: 10,\n    paddingTop: 20\n},\nloginBox2: {\n  flex: 1.6,\n  backgroundColor: \"#19c0ff\",\n  width: 250,\n  borderTopLeftRadius: 20,\n  borderTopRightRadius: 20,\n  borderBottomLeftRadius: 20,\n  borderBottomRightRadius: 20,\n  bottom: 75\n},\n});"]},"metadata":{},"sourceType":"module"}