{"ast":null,"code":"import _regeneratorRuntime from\"@babel/runtime/regenerator\";import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";import _classCallCheck from\"@babel/runtime/helpers/classCallCheck\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){if(typeof Reflect===\"undefined\"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy===\"function\")return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true;}catch(e){return false;}}import React,{useContext}from'react';import{Center}from\"../components/Center\";import View from\"react-native-web/dist/exports/View\";import Text from\"react-native-web/dist/exports/Text\";import Button from\"react-native-web/dist/exports/Button\";import FlatList from\"react-native-web/dist/exports/FlatList\";import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import TextInput from\"react-native-web/dist/exports/TextInput\";import TouchableWithoutFeedback from\"react-native-web/dist/exports/TouchableWithoutFeedback\";import SafeAreaView from\"react-native-web/dist/exports/SafeAreaView\";import ScrollView from\"react-native-web/dist/exports/ScrollView\";import{AuthContext}from\"../AuthProvider\";import{LogoutButton}from\"../components/LogoutButton\";import{FontAwesome}from'@expo/vector-icons';import AsyncStorage from'@react-native-async-storage/async-storage';import{buildPath}from\"../functions/BuildPath\";var Leaderboard=function(_React$PureComponent){_inherits(Leaderboard,_React$PureComponent);var _super=_createSuper(Leaderboard);function Leaderboard(){var _this;_classCallCheck(this,Leaderboard);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={message:\"\",friends:[],leaderBoard:[],manage:false};return _this;}_createClass(Leaderboard,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;var objFriend,jsFriends;return _regeneratorRuntime.async(function componentDidMount$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return _regeneratorRuntime.awrap(AsyncStorage.getItem('userID'));case 3:_context.t0=_context.sent;objFriend={userID:_context.t0};jsFriends=JSON.stringify(objFriend);_context.t1=Promise;_context.t2=fetch;_context.t3=buildPath('api/get-top-10');_context.next=11;return _regeneratorRuntime.awrap(AsyncStorage.getItem('token'));case 11:_context.t4=_context.sent;_context.t5='Bearer '+_context.t4;_context.t6={'Content-Type':'application/json','Authorization':_context.t5};_context.t7={method:'POST',headers:_context.t6};_context.t8=(0,_context.t2)(_context.t3,_context.t7);_context.t9=fetch;_context.t10=buildPath('api/showFriends');_context.t11=jsFriends;_context.next=21;return _regeneratorRuntime.awrap(AsyncStorage.getItem('token'));case 21:_context.t12=_context.sent;_context.t13='Bearer '+_context.t12;_context.t14={'Content-Type':'application/json','Authorization':_context.t13};_context.t15={method:'POST',body:_context.t11,headers:_context.t14};_context.t16=(0,_context.t9)(_context.t10,_context.t15);_context.t17=[_context.t8,_context.t16];_context.t1.all.call(_context.t1,_context.t17).then(function(_ref){var _ref2=_slicedToArray(_ref,2),res1=_ref2[0],res2=_ref2[1];return Promise.all([res1.json(),res2.json()]);}).then(function(_ref3){var _ref4=_slicedToArray(_ref3,2),res1=_ref4[0],res2=_ref4[1];_this2.setState({leaderBoard:res1.userArr,friends:res2.friendsArr});});_context.next=33;break;case 30:_context.prev=30;_context.t18=_context[\"catch\"](0);console.log(\"ERRRRROO\");case 33:case\"end\":return _context.stop();}}},null,null,[[0,30]],Promise);}},{key:\"render\",value:function render(){var _this3=this;var _this$state=this.state,manage=_this$state.manage,friends=_this$state.friends,leaderBoard=_this$state.leaderBoard;if(!manage)return React.createElement(SafeAreaView,{style:styles.container},React.createElement(Center,null,React.createElement(TouchableWithoutFeedback,{onPress:function onPress(){return _this3.setState({manage:true});}},React.createElement(View,{style:styles.manageButton},React.createElement(Text,{style:styles.medium},\"Manage Friends\"))),React.createElement(LogoutButton,null),React.createElement(SafeAreaView,{style:styles.friendsTable},React.createElement(SafeAreaView,{style:styles.friendsHeader},React.createElement(Text,{style:styles.fHeader},\"Friends\")),React.createElement(ScrollView,{style:styles.scrollView},React.createElement(View,null,friends.map(function(friend,i){return React.createElement(SafeAreaView,{style:i%2==0?styles.lightblueHeader:styles.blueHeader},React.createElement(Text,{style:styles.fHeader},friend.username),React.createElement(Text,null,friend.rank,\" pts\"));})))),React.createElement(SafeAreaView,{style:styles.globalTable},React.createElement(SafeAreaView,{style:styles.globalHeader},React.createElement(Text,{style:styles.fHeader},\"Global\")),React.createElement(ScrollView,{style:styles.scrollView},React.createElement(View,null,leaderBoard.map(function(user,i){return React.createElement(SafeAreaView,{style:i%2==0?styles.lightblueHeader:styles.blueHeader},React.createElement(Text,{style:styles.fHeader},user.username),React.createElement(Text,null,user.rank,\" pts\"));}))))));return React.createElement(SafeAreaView,{style:styles.container},React.createElement(Center,null,React.createElement(TouchableWithoutFeedback,{onPress:function onPress(){return _this3.setState({manage:false});}},React.createElement(View,{style:styles.saveButton},React.createElement(Text,{style:styles.medium},\"Save\"))),React.createElement(LogoutButton,null),React.createElement(SafeAreaView,{style:styles.friendsTableManage},React.createElement(ScrollView,{style:styles.scrollView},React.createElement(SafeAreaView,{style:styles.friendsHeader},React.createElement(Text,{style:styles.fHeader},\"Your Friends\")))),React.createElement(SafeAreaView,{style:styles.globalTableManage},React.createElement(ScrollView,{style:styles.scrollView},React.createElement(SafeAreaView,{style:styles.globalHeaderManage},React.createElement(TextInput,{style:styles.input,onChangeText:function onChangeText(em){return setEmail(em);},value:\"Search Users!\"}),React.createElement(TouchableWithoutFeedback,{onPress:function onPress(){return setManage(false);}},React.createElement(View,{style:styles.searchButton},React.createElement(FontAwesome,{name:\"search\",size:40,color:\"black\"}))))))));}}]);return Leaderboard;}(React.PureComponent);export{Leaderboard as default};var styles=StyleSheet.create({scrollView:{backgroundColor:'#19C0FF',marginHorizontal:20,flex:.1,width:414},text:{fontSize:42},container:{flex:1,justifyContent:\"space-between\",padding:20,margin:10},manageButton:{flex:.1,backgroundColor:\"#fcb401\",width:350,bottom:0.5,borderTopLeftRadius:50,borderTopRightRadius:50,borderBottomLeftRadius:50,borderBottomRightRadius:50,alignItems:'center',justifyContent:'center',top:25},saveButton:{flex:.08,backgroundColor:\"#fcb401\",width:250,bottom:0.5,borderTopLeftRadius:50,borderTopRightRadius:50,borderBottomLeftRadius:50,borderBottomRightRadius:50,alignItems:'center',justifyContent:'center',top:25},searchButton:{flex:1,backgroundColor:\"#19c0ff\",width:80,bottom:15,borderTopRightRadius:50,borderBottomRightRadius:50,paddingStart:25,left:315},friendsHeader:{backgroundColor:'#fb2b60',width:434,flex:.28,bottom:0},globalHeader:{backgroundColor:'#fcb401',width:434,flex:.28,bottom:0},lightblueHeader:{backgroundColor:'#19C0FF',width:414,flex:.2,bottom:0},blueHeader:{backgroundColor:'#55D0F1',width:414,flex:.2,bottom:0},globalHeaderManage:{backgroundColor:'#fcb401',width:414,flex:.05,bottom:45},fHeader:{fontSize:48,alignSelf:'center'},friendsTable:{flex:.4,top:43,width:454,bottom:0},globalTable:{top:43,flex:.4,width:454,bottom:0},friendsTableManage:{flex:.45,top:43,width:454,bottom:0},globalTableManage:{top:43,flex:.45,width:454,bottom:0},input:{flex:.8,margin:15,height:40,width:380,borderColor:'#7a42f4',backgroundColor:'#fff',paddingLeft:7,borderTopLeftRadius:50,borderTopRightRadius:50,borderBottomLeftRadius:50,borderBottomRightRadius:50,top:40},submitButton:{backgroundColor:'#7a42f4',padding:10,margin:15,height:40},submitButtonText:{color:'white'},large:{fontSize:28},medium:{fontSize:20},label:{flex:0.05,backgroundColor:\"#fcb401\",width:250,borderWidth:2,borderTopLeftRadius:20,borderTopRightRadius:20,borderBottomLeftRadius:20,borderBottomRightRadius:20,alignItems:'center',justifyContent:'center'},middle:{flex:0.3,backgroundColor:\"#19c0ff\",width:250,borderWidth:2,borderTopLeftRadius:20,borderTopRightRadius:20,borderBottomLeftRadius:20,borderBottomRightRadius:20,margin:10,alignItems:'center',paddingTop:10}});","map":{"version":3,"sources":["/home/joeyg/Desktop/mobile-app/budgetbuddy-mobileapp/src/screens/Leaderboard.js"],"names":["React","useContext","Center","AuthContext","LogoutButton","FontAwesome","AsyncStorage","buildPath","Leaderboard","state","message","friends","leaderBoard","manage","getItem","objFriend","userID","jsFriends","JSON","stringify","Promise","fetch","method","headers","body","all","then","res1","res2","json","setState","userArr","friendsArr","console","log","styles","container","manageButton","medium","friendsTable","friendsHeader","fHeader","scrollView","map","friend","i","lightblueHeader","blueHeader","username","rank","globalTable","globalHeader","user","saveButton","friendsTableManage","globalTableManage","globalHeaderManage","input","em","setEmail","setManage","searchButton","PureComponent","StyleSheet","create","backgroundColor","marginHorizontal","flex","width","text","fontSize","justifyContent","padding","margin","bottom","borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius","alignItems","top","paddingStart","left","alignSelf","height","borderColor","paddingLeft","submitButton","submitButtonText","color","large","label","borderWidth","middle","paddingTop"],"mappings":"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","sourcesContent":["import React, { useContext } from 'react';\nimport { Center } from '../components/Center';\nimport { View, Text, Button, FlatList, StyleSheet, TextInput, TouchableWithoutFeedback, SafeAreaView, ScrollView } from 'react-native';\nimport { AuthContext } from '../AuthProvider';\nimport { LogoutButton } from '../components/LogoutButton';\nimport { FontAwesome } from '@expo/vector-icons'; \nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport { buildPath } from '../functions/BuildPath';\n\n\n\nexport default class Leaderboard extends React.PureComponent {\n    state = {\n        message: \"\",\n        friends: [],\n        leaderBoard: [],\n        manage: false\n    }\n    async componentDidMount() {\n        try {\n            var objFriend = {userID: await AsyncStorage.getItem('userID')};\n            var jsFriends = JSON.stringify(objFriend);\n            Promise.all([\n            fetch(buildPath('api/get-top-10'),\n            {method:'POST', headers:{'Content-Type': 'application/json', 'Authorization': 'Bearer ' + await AsyncStorage.getItem('token')}}),\n            fetch(buildPath('api/showFriends'),\n                {method:'POST',body:jsFriends,headers:{'Content-Type': 'application/json', 'Authorization': 'Bearer ' + await AsyncStorage.getItem('token')}})\n            ]).then(([res1, res2]) => {\n                return Promise.all([res1.json(), res2.json()])\n            }).then(([res1, res2]) => {\n            this.setState({\n                leaderBoard: res1.userArr,\n                friends: res2.friendsArr\n      })\n    })\n        } catch (err) {\n            console.log(\"ERRRRROO\");\n        }\n    }\n\n    render () {\n\n    const {manage, friends, leaderBoard} = this.state \n    if (! manage )\n        return (\n            <SafeAreaView style={styles.container}>\n                <Center>\n                    <TouchableWithoutFeedback onPress={() => this.setState({manage: true})}>\n                        <View style={styles.manageButton}>\n                        <Text style={styles.medium}>\n                            Manage Friends\n                        </Text>\n                        </View>\n                    </TouchableWithoutFeedback>\n                    <LogoutButton/>\n                    <SafeAreaView style={styles.friendsTable}>\n                        <SafeAreaView style={styles.friendsHeader}>\n                            <Text style={styles.fHeader}>Friends</Text>\n                        </SafeAreaView>\n                        <ScrollView style={styles.scrollView}>\n                            <View>    \n                                {friends.map((friend, i) => \n                                <SafeAreaView style={i % 2 == 0 ? styles.lightblueHeader : styles.blueHeader}>\n                                    <Text style={styles.fHeader}>{friend.username}</Text><Text>{friend.rank} pts</Text>\n                                </SafeAreaView>)\n                                }    \n                            </View>\n                        </ScrollView>\n                    </SafeAreaView>\n                    <SafeAreaView style={styles.globalTable}>\n                        <SafeAreaView style={styles.globalHeader}>\n                            <Text style={styles.fHeader}>Global</Text>\n                        </SafeAreaView>\n                        <ScrollView style={styles.scrollView}>\n                            <View>    \n                                {leaderBoard.map((user, i) => \n                                <SafeAreaView style={i % 2 == 0 ? styles.lightblueHeader : styles.blueHeader}>\n                                    <Text style={styles.fHeader}>{user.username}</Text><Text>{user.rank} pts</Text>\n                                </SafeAreaView>)\n                                }    \n                            </View>\n                        </ScrollView>\n                    </SafeAreaView>\n                </Center>\n            </SafeAreaView>\n    );\n\n    return (\n        <SafeAreaView style={styles.container}>\n                <Center>\n                    <TouchableWithoutFeedback onPress={() => this.setState({manage: false})}>\n                        <View style={styles.saveButton}>\n                        <Text style={styles.medium}>\n                            Save\n                        </Text>\n                        </View>\n                    </TouchableWithoutFeedback> \n                    <LogoutButton/>\n                    <SafeAreaView style={styles.friendsTableManage}>\n                        <ScrollView style={styles.scrollView}>\n                            <SafeAreaView style={styles.friendsHeader}>\n                                <Text style={styles.fHeader}>Your Friends</Text>\n                            </SafeAreaView>\n                        </ScrollView>\n                    </SafeAreaView>\n                    <SafeAreaView style={styles.globalTableManage}>\n                        <ScrollView style={styles.scrollView}>\n                            <SafeAreaView style={styles.globalHeaderManage}>\n                                <TextInput style={styles.input}\n                                    onChangeText={em => setEmail(em)}\n                                    value={\"Search Users!\"}>\n                                </TextInput>\n                                <TouchableWithoutFeedback onPress={() => setManage(false)}>\n                                    <View style={styles.searchButton}>\n                                    <FontAwesome name=\"search\" size={40} color=\"black\" />\n                                    </View>\n                                </TouchableWithoutFeedback> \n                            </SafeAreaView>\n                        </ScrollView>\n                    </SafeAreaView>\n                </Center>\n            </SafeAreaView>\n    )\n    }\n}\n\nconst styles = StyleSheet.create({\n    scrollView: {\n        backgroundColor: '#19C0FF',\n        marginHorizontal: 20,\n        flex: .1,\n        width: 414\n      },\n      text: {\n        fontSize: 42,\n      },\n    container: {\n        flex: 1,\n        justifyContent: \"space-between\",\n        padding: 20,\n        margin: 10,\n    },\n    manageButton: {\n        flex: .1,\n        backgroundColor: \"#fcb401\",\n        width: 350,\n        bottom: 0.5,\n        borderTopLeftRadius: 50,\n        borderTopRightRadius: 50,\n        borderBottomLeftRadius: 50,\n        borderBottomRightRadius: 50,\n        alignItems: 'center',\n        justifyContent: 'center',\n        top: 25\n      },\n      saveButton: {\n        flex: .08,\n        backgroundColor: \"#fcb401\",\n        width: 250,\n        bottom: 0.5,\n        borderTopLeftRadius: 50,\n        borderTopRightRadius: 50,\n        borderBottomLeftRadius: 50,\n        borderBottomRightRadius: 50,\n        alignItems: 'center',\n        justifyContent: 'center',\n        top: 25\n      },\n      searchButton: {\n        flex: 1,\n        backgroundColor: \"#19c0ff\",\n        width: 80,\n        bottom: 15,\n        borderTopRightRadius: 50,\n        borderBottomRightRadius: 50,\n        paddingStart: 25,\n        left: 315\n      },\n    friendsHeader: {\n        backgroundColor: '#fb2b60',\n        width: 434,\n        flex: .28,\n        bottom: 0,\n    },\n    globalHeader: {\n        backgroundColor: '#fcb401',\n        width: 434,\n        flex: .28,\n        bottom: 0,\n    },\n    lightblueHeader: {\n        backgroundColor: '#19C0FF',\n        width: 414,\n        flex: .2,\n        bottom: 0,\n    },\n    blueHeader: {\n        backgroundColor: '#55D0F1',\n        width: 414,\n        flex: .2,\n        bottom: 0,\n    },\n    globalHeaderManage: {\n        backgroundColor: '#fcb401',\n        width: 414,\n        flex: .05,\n        bottom: 45,\n    },\n    fHeader: {\n        fontSize: 48,\n        alignSelf: 'center'\n    },\n    friendsTable: {\n        flex: .4,\n        top: 43,\n        width: 454,\n        bottom: 0\n    },\n    globalTable: {\n        top: 43,\n        flex: .4,\n        width: 454,\n        bottom: 0\n    },\n    friendsTableManage: {\n        flex: .45,\n        top: 43,\n        width: 454,\n        bottom: 0\n    },\n    globalTableManage: {\n        top: 43,\n        flex: .45,\n        width: 454,\n        bottom: 0\n    },\n    input: {\n        flex: .8,\n        margin: 15,\n        height: 40,\n        width: 380,\n        borderColor: '#7a42f4',\n        backgroundColor: '#fff', \n        paddingLeft: 7,\n        borderTopLeftRadius: 50,\n        borderTopRightRadius: 50,\n        borderBottomLeftRadius: 50,\n        borderBottomRightRadius: 50,\n        top: 40\n    },\n    submitButton: {\n        backgroundColor: '#7a42f4',\n        padding: 10,\n        margin: 15,\n        height: 40,\n    },\n    submitButtonText: {\n        color: 'white'\n    },\n    large: {\n        fontSize: 28\n    },\n    medium: {\n        fontSize: 20\n    },\n    label: {\n        flex: 0.05,\n        backgroundColor: \"#fcb401\",\n        width: 250,\n        borderWidth: 2,\n        borderTopLeftRadius: 20,\n        borderTopRightRadius: 20,\n        borderBottomLeftRadius: 20,\n        borderBottomRightRadius: 20,\n        alignItems: 'center',\n        justifyContent: 'center'\n    },\n    middle: {\n        flex: 0.3,\n        backgroundColor: \"#19c0ff\",\n        width: 250,\n        borderWidth: 2,\n        borderTopLeftRadius: 20,\n        borderTopRightRadius: 20,\n        borderBottomLeftRadius: 20,\n        borderBottomRightRadius: 20,\n        margin: 10,\n        alignItems: 'center',\n        paddingTop: 10\n    },\n});\n\n//export default Leaderboard;"]},"metadata":{},"sourceType":"module"}